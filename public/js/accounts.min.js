function stopScrolling(e){return e.preventDefault(),e.stopPropagation(),!1}jQuery(document).ready((function($){var cols={},messageIsOpen=!1;cols.showOverlay=function(){$("body").addClass("show-main-overlay")},cols.hideOverlay=function(){$("body").removeClass("show-main-overlay")},cols.showMessage=function(){$("body").addClass("show-message"),messageIsOpen=!0},cols.hideMessage=function(){$("body").removeClass("show-message"),$("#main .message-list li").removeClass("active"),messageIsOpen=!1},cols.showSidebar=function(){$("body").addClass("show-sidebar")},cols.hideSidebar=function(){$("body").removeClass("show-sidebar")},$(".trigger-toggle-sidebar").on("click",(function(){cols.showSidebar(),cols.showOverlay()})),$(".trigger-message-close").on("click",(function(){cols.hideMessage(),cols.hideOverlay()})),$("#main .message-list li").on("click",(function(e){var item=$(this),target;$(e.target).is("label")?item.toggleClass("selected"):messageIsOpen&&item.is(".active")?(cols.hideMessage(),cols.hideOverlay()):(messageIsOpen?(cols.hideMessage(),item.addClass("active"),setTimeout((function(){cols.showMessage()}),300)):(item.addClass("active"),cols.showMessage()),cols.showOverlay())})),$("input[type=checkbox]").on("click",(function(e){e.stopImmediatePropagation()})),$("#main > .overlay").on("click",(function(){cols.hideOverlay(),cols.hideMessage(),cols.hideSidebar()})),$(".nano").nanoScroller(),$(".search-box input").on("focus",(function(){$(window).width()<=1360&&cols.hideMessage()}))})),
/*! nanoScrollerJS - v0.8.0 - 2014
* https://jamesflorentino.github.com/nanoScrollerJS/
* Copyright (c) 2014 James Florentino; Licensed MIT */
function($,window,document){"use strict";var BROWSER_IS_IE7,BROWSER_SCROLLBAR_WIDTH,DOMSCROLL,DOWN,DRAG,KEYDOWN,KEYUP,MOUSEDOWN,MOUSEMOVE,MOUSEUP,MOUSEWHEEL,NanoScroll,PANEDOWN,RESIZE,SCROLL,SCROLLBAR,TOUCHMOVE,UP,WHEEL,cAF,defaults,getBrowserScrollbarWidth,hasTransform,isFFWithBuggyScrollbar,rAF,transform,_elementStyle,_prefixStyle,_vendor;defaults={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},SCROLLBAR="scrollbar",SCROLL="scroll",MOUSEDOWN="mousedown",MOUSEMOVE="mousemove",MOUSEWHEEL="mousewheel",MOUSEUP="mouseup",RESIZE="resize",DRAG="drag",UP="up",PANEDOWN="panedown",DOMSCROLL="DOMMouseScroll",DOWN="down",WHEEL="wheel",KEYDOWN="keydown",KEYUP="keyup",TOUCHMOVE="touchmove",BROWSER_IS_IE7="Microsoft Internet Explorer"===window.navigator.appName&&/msie 7./i.test(window.navigator.appVersion)&&window.ActiveXObject,BROWSER_SCROLLBAR_WIDTH=null,rAF=window.requestAnimationFrame,cAF=window.cancelAnimationFrame,_elementStyle=document.createElement("div").style,_vendor=function(){var i,transform,vendor,vendors,_i,_len;for(i=_i=0,_len=(vendors=["t","webkitT","MozT","msT","OT"]).length;_i<_len;i=++_i)if(vendor=vendors[i],(transform=vendors[i]+"ransform")in _elementStyle)return vendors[i].substr(0,vendors[i].length-1);return!1}(),transform=(_prefixStyle=function(style){return!1!==_vendor&&(""===_vendor?style:_vendor+style.charAt(0).toUpperCase()+style.substr(1))})("transform"),hasTransform=!1!==transform,getBrowserScrollbarWidth=function(){var outer,outerStyle,scrollbarWidth;return(outerStyle=(outer=document.createElement("div")).style).position="absolute",outerStyle.width="100px",outerStyle.height="100px",outerStyle.overflow=SCROLL,outerStyle.top="-9999px",document.body.appendChild(outer),scrollbarWidth=outer.offsetWidth-outer.clientWidth,document.body.removeChild(outer),scrollbarWidth},isFFWithBuggyScrollbar=function(){var isOSXFF,ua,version;return ua=window.navigator.userAgent,!!(isOSXFF=/(?=.+Mac OS X)(?=.+Firefox)/.test(ua))&&((version=/Firefox\/\d{2}\./.exec(ua))&&(version=version[0].replace(/\D+/g,"")),isOSXFF&&+version>23)},NanoScroll=function(){function NanoScroll(el,options){this.el=el,this.options=options,BROWSER_SCROLLBAR_WIDTH||(BROWSER_SCROLLBAR_WIDTH=getBrowserScrollbarWidth()),this.$el=$(this.el),this.doc=$(this.options.documentContext||document),this.win=$(this.options.windowContext||window),this.$content=this.$el.children("."+options.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return NanoScroll.prototype.preventScrolling=function(e,direction){if(this.isActive)if(e.type===DOMSCROLL)(direction===DOWN&&e.originalEvent.detail>0||direction===UP&&e.originalEvent.detail<0)&&e.preventDefault();else if(e.type===MOUSEWHEEL){if(!e.originalEvent||!e.originalEvent.wheelDelta)return;(direction===DOWN&&e.originalEvent.wheelDelta<0||direction===UP&&e.originalEvent.wheelDelta>0)&&e.preventDefault()}},NanoScroll.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},NanoScroll.prototype.updateScrollValues=function(){var content;content=this.content,this.maxScrollTop=content.scrollHeight-content.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=content.scrollTop,this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},NanoScroll.prototype.setOnScrollStyles=function(){var cssValue,_this;hasTransform?(cssValue={})[transform]="translate(0, "+this.sliderTop+"px)":cssValue={top:this.sliderTop},rAF?this.scrollRAF||(this.scrollRAF=rAF((_this=this,function(){_this.scrollRAF=null,_this.slider.css(cssValue)}))):this.slider.css(cssValue)},NanoScroll.prototype.createEvents=function(){var _this;this.events={down:(_this=this,function(e){return _this.isBeingDragged=!0,_this.offsetY=e.pageY-_this.slider.offset().top,_this.pane.addClass("active"),_this.doc.bind(MOUSEMOVE,_this.events.drag).bind(MOUSEUP,_this.events.up),!1}),drag:function(_this){return function(e){return _this.sliderY=e.pageY-_this.$el.offset().top-_this.offsetY,_this.scroll(),_this.contentScrollTop>=_this.maxScrollTop&&_this.prevScrollTop!==_this.maxScrollTop?_this.$el.trigger("scrollend"):0===_this.contentScrollTop&&0!==_this.prevScrollTop&&_this.$el.trigger("scrolltop"),!1}}(this),up:function(_this){return function(e){return _this.isBeingDragged=!1,_this.pane.removeClass("active"),_this.doc.unbind(MOUSEMOVE,_this.events.drag).unbind(MOUSEUP,_this.events.up),!1}}(this),resize:function(_this){return function(e){_this.reset()}}(this),panedown:function(_this){return function(e){return _this.sliderY=(e.offsetY||e.originalEvent.layerY)-.5*_this.sliderHeight,_this.scroll(),_this.events.down(e),!1}}(this),scroll:function(_this){return function(e){_this.updateScrollValues(),_this.isBeingDragged||(_this.iOSNativeScrolling||(_this.sliderY=_this.sliderTop,_this.setOnScrollStyles()),null!=e&&(_this.contentScrollTop>=_this.maxScrollTop?(_this.options.preventPageScrolling&&_this.preventScrolling(e,DOWN),_this.prevScrollTop!==_this.maxScrollTop&&_this.$el.trigger("scrollend")):0===_this.contentScrollTop&&(_this.options.preventPageScrolling&&_this.preventScrolling(e,UP),0!==_this.prevScrollTop&&_this.$el.trigger("scrolltop"))))}}(this),wheel:function(_this){return function(e){var delta;if(null!=e)return(delta=e.delta||e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail||e.originalEvent&&-e.originalEvent.detail)&&(_this.sliderY+=-delta/3),_this.scroll(),!1}}(this)}},NanoScroll.prototype.addEvents=function(){var events;this.removeEvents(),events=this.events,this.options.disableResize||this.win.bind(RESIZE,events.resize),this.iOSNativeScrolling||(this.slider.bind(MOUSEDOWN,events.down),this.pane.bind(MOUSEDOWN,events.panedown).bind("mousewheel "+DOMSCROLL,events.wheel)),this.$content.bind("scroll mousewheel DOMMouseScroll touchmove",events.scroll)},NanoScroll.prototype.removeEvents=function(){var events;events=this.events,this.win.unbind(RESIZE,events.resize),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind("scroll mousewheel DOMMouseScroll touchmove",events.scroll)},NanoScroll.prototype.generate=function(){var contentClass,cssRule,currentPadding,options,paneClass,sliderClass;return paneClass=(options=this.options).paneClass,sliderClass=options.sliderClass,contentClass=options.contentClass,this.$el.find("."+paneClass).length||this.$el.find("."+sliderClass).length||this.$el.append('<div class="'+paneClass+'"><div class="'+sliderClass+'" /></div>'),this.pane=this.$el.children("."+paneClass),this.slider=this.pane.find("."+sliderClass),0===BROWSER_SCROLLBAR_WIDTH&&isFFWithBuggyScrollbar()?cssRule={right:-14,paddingRight:+(currentPadding=window.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/\D+/g,""))+14}:BROWSER_SCROLLBAR_WIDTH&&(cssRule={right:-BROWSER_SCROLLBAR_WIDTH},this.$el.addClass("has-scrollbar")),null!=cssRule&&this.$content.css(cssRule),this},NanoScroll.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},NanoScroll.prototype.reset=function(){var content,contentHeight,contentPosition,contentStyle,contentStyleOverflowY,paneBottom,paneHeight,paneOuterHeight,paneTop,parentMaxHeight,right,sliderHeight;if(!this.iOSNativeScrolling)return this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),contentStyleOverflowY=(contentStyle=(content=this.content).style).overflowY,BROWSER_IS_IE7&&this.$content.css({height:this.$content.height()}),contentHeight=content.scrollHeight+BROWSER_SCROLLBAR_WIDTH,(parentMaxHeight=parseInt(this.$el.css("max-height"),10))>0&&(this.$el.height(""),this.$el.height(content.scrollHeight>parentMaxHeight?parentMaxHeight:content.scrollHeight)),paneOuterHeight=(paneHeight=this.pane.outerHeight(!1))+(paneTop=parseInt(this.pane.css("top"),10))+(paneBottom=parseInt(this.pane.css("bottom"),10)),(sliderHeight=Math.round(paneOuterHeight/contentHeight*paneOuterHeight))<this.options.sliderMinHeight?sliderHeight=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&sliderHeight>this.options.sliderMaxHeight&&(sliderHeight=this.options.sliderMaxHeight),contentStyleOverflowY===SCROLL&&contentStyle.overflowX!==SCROLL&&(sliderHeight+=BROWSER_SCROLLBAR_WIDTH),this.maxSliderTop=paneOuterHeight-sliderHeight,this.contentHeight=contentHeight,this.paneHeight=paneHeight,this.paneOuterHeight=paneOuterHeight,this.sliderHeight=sliderHeight,this.slider.height(sliderHeight),this.events.scroll(),this.pane.show(),this.isActive=!0,content.scrollHeight===content.clientHeight||this.pane.outerHeight(!0)>=content.scrollHeight&&contentStyleOverflowY!==SCROLL?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===content.scrollHeight&&contentStyleOverflowY===SCROLL?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),"static"!==(contentPosition=this.$content.css("position"))&&"relative"!==contentPosition||(right=parseInt(this.$content.css("right"),10))&&this.$content.css({right:"",marginRight:right}),this;this.contentHeight=this.content.scrollHeight},NanoScroll.prototype.scroll=function(){if(this.isActive)return this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop((this.paneHeight-this.contentHeight+BROWSER_SCROLLBAR_WIDTH)*this.sliderY/this.maxSliderTop*-1),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this},NanoScroll.prototype.scrollBottom=function(offsetY){if(this.isActive)return this.$content.scrollTop(this.contentHeight-this.$content.height()-offsetY).trigger(MOUSEWHEEL),this.stop().restore(),this},NanoScroll.prototype.scrollTop=function(offsetY){if(this.isActive)return this.$content.scrollTop(+offsetY).trigger(MOUSEWHEEL),this.stop().restore(),this},NanoScroll.prototype.scrollTo=function(node){if(this.isActive)return this.scrollTop(this.$el.find(node).get(0).offsetTop),this},NanoScroll.prototype.stop=function(){return cAF&&this.scrollRAF&&(cAF(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},NanoScroll.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),BROWSER_IS_IE7&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},NanoScroll.prototype.flash=function(){var _this;if(!this.iOSNativeScrolling&&this.isActive)return this.reset(),this.pane.addClass("flashed"),setTimeout((_this=this,function(){_this.pane.removeClass("flashed")}),this.options.flashDelay),this},NanoScroll}(),$.fn.nanoScroller=function(settings){return this.each((function(){var options,scrollbar;if((scrollbar=this.nanoscroller)||(options=$.extend({},defaults,settings),this.nanoscroller=scrollbar=new NanoScroll(this,options)),settings&&"object"==typeof settings){if($.extend(scrollbar.options,settings),null!=settings.scrollBottom)return scrollbar.scrollBottom(settings.scrollBottom);if(null!=settings.scrollTop)return scrollbar.scrollTop(settings.scrollTop);if(settings.scrollTo)return scrollbar.scrollTo(settings.scrollTo);if("bottom"===settings.scroll)return scrollbar.scrollBottom(0);if("top"===settings.scroll)return scrollbar.scrollTop(0);if(settings.scroll&&settings.scroll instanceof $)return scrollbar.scrollTo(settings.scroll);if(settings.stop)return scrollbar.stop();if(settings.destroy)return scrollbar.destroy();if(settings.flash)return scrollbar.flash()}return scrollbar.reset()}))},$.fn.nanoScroller.Constructor=NanoScroll}(jQuery,window,document),$(document).ready((function(){$("#add_item_inventory_toggle").click((function(){$("#add_item_inventory").fadeOut("fast"),$("#add_item_inventory_toggle").hide(),$("body").off("scroll mousewheel touchmove",stopScrolling)})),$("#inventory_content_add_items").click((function(){$("#add_item_inventory").fadeIn("fast"),$("#add_item_inventory_toggle").show(),$("body").on("scroll mousewheel touchmove",stopScrolling)}))}));